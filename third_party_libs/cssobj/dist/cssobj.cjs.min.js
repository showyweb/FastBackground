/*
  cssobj v1.2.3
  Mon Jan 22 2018 09:52:51 GMT+0800 (CST)
  commit 0c2588ee3314c88a3508ec6a4577c3225125785d

  https://github.com/cssobj/cssobj
  Released under the MIT License.

  Components version info:
  - cssobj-core@1.1.7
    319d94d9d6c0ee455ed0dfe0c7f796298a145250
  - cssobj-plugin-cssom@4.0.0
    d7f505abd6e375cc6d90e5e4a061fd21d47c2e3e
  - cssobj-plugin-localize@3.2.3
    e45e2fac7911a86257698e4ab78ffbb33e3c3925
*/
"use strict";function isNumeric(e){return!isNaN(parseFloat(e))&&isFinite(e)}function own(e,r){return{}.hasOwnProperty.call(e,r)}function defaults(e,r){e=e||{};for(var t in r)!own(r,t)||t in e||(e[t]=r[t]);return e}function dashify(e){return e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})}function capitalize(e){return e.charAt(0).toUpperCase()+e.substr(1)}function extendObj(e,r,t){e[r]=e[r]||{};for(var n=arguments,o=2;o<n.length;o++){t=n[o];for(var a in t)own(t,a)&&(e[r][a]=t[a])}return e[r]}function arrayKV(e,r,t,n,o){e[r]=r in e?Array.isArray(e[r])?e[r]:[e[r]]:[],o&&e[r].indexOf(t)>-1||(n?e[r].unshift(t):e[r].push(t))}function getParents(e,r,t,n,o){for(var a,i,s=e,u=[];s;){if(r(s)){if(n)for(a=0;a<u.length;a++)arrayKV(s,n,u[a],!1,!0);u[0]&&o&&(u[0][o]=s),u.unshift(s)}s=s.parent}for(a=0;a<u.length;a++)i=u[a],u[a]=t?i[t]:i;return u}function splitSelector(e,r){if(e.indexOf(r)<0)return[e];for(var t,n=0,o=0,a="",i=0,s=[];t=e.charAt(n);n++)a?t==a&&(a=""):('"'!=t&&"'"!=t||(a=t),"("!=t&&"["!=t||o++,")"!=t&&"]"!=t||o--,o||t!=r||(s.push(e.substring(i,n)),i=n+1));return s.concat(e.substring(i))}function isValidCSSValue(e){return"string"==typeof e&&e||"number"==typeof e&&isFinite(e)}function isIterable(e){return type.call(e)==OBJECT||type.call(e)==ARRAY}function isFunction(e){return"function"==typeof e}function parseObj(e,r,t,n){if(n&&(r.nodes=[],r.ref={},t&&(r.diff={})),t=t||{},t.obj=e,type.call(e)==ARRAY){var o=[];t.at=reAtRule.exec(t.key);for(var a=0;a<e.length;a++){var i=t[a],s=parseObj(e[a],r,t[a]||{parent:t,src:e,parentNode:o,index:a});r.diff&&i!=s&&arrayKV(r.diff,s?"added":"removed",s||i),o.push(s)}return o}e[KEY_ID]&&(r.ref[e[KEY_ID]]=t);var u=t.prevVal=t.lastVal;if(KEY_TEST in e){var c=isFunction(e[KEY_TEST])?e[KEY_TEST](!t.disabled,t,r):e[KEY_TEST];if(!c)return;t.test=c}var l=t.children=t.children||{};t.lastRaw=t.rawVal||{},t.lastVal={},t.rawVal={},t.prop={},t.diff={};var f=0|e[KEY_ORDER],p=[],d=function(e,t,n){var o=t in l,a=extendObj(l,t,n);a.selPart=a.selPart||splitSelector(t,",");var i=parseObj(e,r,a);i&&(l[t]=i),u&&(o?!i&&arrayKV(r.diff,"removed",l[t]):i&&arrayKV(r.diff,"added",i)),i||delete n.parent.children[t]};"selText"in t||getSel(t,r);for(var m in e)if(own(e,m))if(!isIterable(e[m])||type.call(e[m])==ARRAY&&!isIterable(e[m][0])){if("@"==m[0]){d([].concat(e[m]).reduce(function(e,r){return e[r]=";",e},{}),m,{parent:t,src:e,key:m,inline:!0});continue}var h=function(n){n!=KEY_TEST&&parseProp(t,e,n,r)};f?p.push([h,m]):h(m)}else d(e[m],m,{parent:t,src:e,key:m});if(u){for(m in l)m in e||(arrayKV(r.diff,"removed",l[m]),delete l[m]);var y=function(){var e=keys(t.lastVal),n=keys(u).filter(function(r){return e.indexOf(r)<0});n.length&&(t.diff.removed=n),keys(t.diff).length&&arrayKV(r.diff,"changed",t)};f?p.push([y,null]):y()}return f&&arrayKV(r,"_order",{order:f,func:p}),r.nodes.push(t),t}function getSel(e,r){var t=r.config,n=getParents(e,function(e){return e.key}).pop();if(e.parentRule=getParents(e.parent,function(e){return e.type==TYPE_GROUP}).pop()||null,n){var o,a=n.key,i=a.match(reGroupRule);i?(e.type=TYPE_GROUP,e.at=i.pop(),(o="media"==e.at)&&(e.selPart=splitSelector(a.replace(reGroupRule,""),",")),e.groupText=o?"@"+e.at+combinePath(getParents(e,function(e){return e.type==TYPE_GROUP},"selPart","selChild","selParent"),""," and"):a,e.selText=getParents(e,function(e){return e.selText&&!e.at},"selText").pop()||""):reAtRule.test(a)?(e.type="at",e.selText=a):e.selText=""+combinePath(getParents(n,function(e){return e.selPart&&!e.at},"selPart","selChild","selParent"),""," ",!0),e.selText=applyPlugins(t,"selector",e.selText,e,r),e.selText&&(e.selTextPart=splitSelector(e.selText,",")),e!==n&&(e.ruleNode=n)}}function parseProp(e,r,t,n,o){var a=e.prevVal,i=e.lastVal,s=isNumeric(t)?o:t,u=e.lastRaw[s],c=a&&a[s],l={node:e,result:n};u&&(l.raw=u[0]),[].concat(r[t]).forEach(function(r){l.cooked=c,l.raw=u=isFunction(r)?r(l):r;var t=applyPlugins(n.config,"value",u,s,e,n,o);if(isIterable(t))for(var a in t)own(t,a)&&parseProp(e,t,a,n,s);else arrayKV(e.rawVal,s,u,!0),isValidCSSValue(t)&&(arrayKV(e.prop,s,t,!0),c=i[s]=t)}),a&&(s in a?a[s]!=i[s]&&arrayKV(e.diff,"changed",s):arrayKV(e.diff,"added",s))}function combinePath(e,r,t,n){return e.length?e[0].reduce(function(o,a){var i,s=r?r+t:r;return n?s=(i=splitSelector(a,"&")).length>1?i.join(r):s+a:s+=a,o.concat(combinePath(e.slice(1),s,t,n))},[]):r}function applyPlugins(e,r){var t=[].slice.call(arguments,2),n=e.plugins;return[].concat(n).reduce(function(e,n){return n[r]?n[r].apply(null,[e].concat(t)):e},t.shift())}function applyOrder(e){e._order&&(e._order.sort(function(e,r){return e.order-r.order}).forEach(function(e){e.func.forEach(function(e){e[0](e[1])})}),delete e._order)}function cssobj$2(e){return e=defaults(e,{plugins:[],intros:[]}),function(r,t){var n=function(r,t){return arguments.length>1&&(o.state=t||{}),r&&(o.obj=isFunction(r)?r():r),o.root=parseObj(extendObj({},"",o.intro,o.obj),o,o.root,!0),applyOrder(o),o=applyPlugins(e,"post",o),isFunction(e.onUpdate)&&e.onUpdate(o),o},o={intro:{},update:n,config:e};return[].concat(e.intros).forEach(function(e){extendObj(o,"intro",isFunction(e)?e(o):e)}),n(r,t||e.state),o}}function createDOM(e,r,t){var n=e.getElementById(r),o=e.getElementsByTagName("head")[0];if(n){if(t.append)return n;n.parentNode&&n.parentNode.removeChild(n)}if(n=e.createElement("style"),o.appendChild(n),n.setAttribute("id",r),t.attrs)for(var a in t.attrs)n.setAttribute(a,t.attrs[a]);return n}function getBodyCss(e){var r=e.prop;return Object.keys(r).map(function(t){if("$"==t[0])return"";for(var n,o="",a=r[t].length;a--;)n=r[t][a],o+=e.inline?t:prefixProp(t,!0)+":"+n+";";return o})}function vendorPropName(e){if(!(e in emptyStyle||"-"==e[0]))for(var r,t=capitalize(e),n=cssPrefixes.length;n--;)if((r=cssPrefixes[n]+t)in emptyStyle)return r}function prefixProp(e,r){if("$"==e[0])return"";var t=cssProps[e]||(cssProps[e]=vendorPropName(e)||e);return r?dashify(cssPrefixesReg.test(t)?capitalize(t):"float"==e&&e||t):t}function setCSSProperty(e,r,t){var n,o=/^(.*)!(important)\s*$/i.exec(t),a=prefixProp(r),i=prefixProp(r,!0);o?(n=o[1],o=o[2],e.setProperty?e.setProperty(i,n,o):(e[i.toUpperCase()]=t,e.cssText=e.cssText)):e[a]=t}function cssobj_plugin_post_cssom(e){function r(e){var r=d.indexOf(e);r>-1&&(e.mediaEnabled=!1,h(e),d.splice(r,1)),[e.omGroup].concat(e.omRule).forEach(f)}(e=e||{}).vendors&&(cssPrefixes=e.vendors);var t=e.id||"cssobj"+random(),n=e.frame,o=n?n.contentDocument||n.contentWindow.document:document,a=createDOM(o,t,e),i=a.sheet||a.styleSheet,s=/page/i,u=function(e){return!!e&&(s.test(e.at)||e.parentRule&&s.test(e.parentRule.at))},c=function(e){return!e.parentRule||null!==e.parentRule.omGroup},l=function(e,r,t){return e.deleteRule?e.deleteRule(r.keyText||t):e.removeRule(t)},f=function(e){if(e){var r=e.parentRule||i,t=r.cssRules||r.rules;[].some.call(t,function(t,n){if(t===e)return l(r,e,n),!0})}},p=function(e,r,t){if(t){var n=function(e){var r="omGroup"in e?e:e.parentRule;return r&&r.omGroup||i}(e),o=e.parentRule;if(c(e))return e.omRule=addCSSRule(n,r,t,e);if(o){if(o.mediaEnabled)return[].concat(e.omRule).forEach(f),e.omRule=addCSSRule(n,r,t,e);e.omRule&&(e.omRule.forEach(f),delete e.omRule)}}},d=[],m=function(){d.forEach(function(e){e.mediaEnabled=e.mediaTest(o),h(e)})};window.attachEvent?window.attachEvent("onresize",m):window.addEventListener&&window.addEventListener("resize",m,!0);var h=function(r,t){if(r){if(r.constructor===Array)return r.map(function(e){h(e,t)});if((!r.key||"$"!=r.key[0])&&r.prop){if("media"==r.at&&r.selParent&&r.selParent.postArr)return r.selParent.postArr.push(r);r.postArr=[];var n=r.children,a="group"==r.type;if(u(r)&&(t=t||[]),a&&!u(r)){var s=r.obj.$groupTest,l="media"==r.at&&e.media;if(s||l){r.omGroup=null;var f=s||l&&function(t){var n=e.media;return!n||r.selPart.some(function(e){return new RegExp(n,"i").test(e.trim())})}||function(){return!0};try{var m=f(o);r.mediaTest=f,r.mediaEnabled=m,d.push(r)}catch(e){}}else[""].concat(cssPrefixes).some(function(e){return r.omGroup=addCSSRule(i,"@"+(e?"-"+e.toLowerCase()+"-":e)+r.groupText.slice(1),[],r).pop()||null})}var y=r.selTextPart,v=getBodyCss(r);v.join("")&&(u(r)||p(r,y,v),t&&t.push(y?y+" {"+v.join("")+"}":v));for(var g in n)""===g?r.postArr.push(n[g]):h(n[g],t);a&&u(r)&&c(r)&&(p(r,r.groupText,t),t=null);var P=r.postArr;delete r.postArr,P.map(function(e){h(e,t)})}}},y=e.media;return{post:function(t){var n=y!=e.media;if(y=e.media,m(),t.cssdom=a,!t.diff||n)n&&(d=[],function(e){for(var r=e.cssRules||e.rules,t=r.length;t--;)l(e,r[t],t)}(i)),h(t.root);else{var o=t.diff;o.added&&o.added.forEach(function(e){h(e)}),o.removed&&o.removed.forEach(function(e){e.selChild&&e.selChild.forEach(r),r(e)}),o.changed&&o.changed.forEach(function(e){var r=e.omRule,t=e.diff;r||(r=p(e,e.selTextPart,getBodyCss(e))),[].concat(t.added,t.changed).forEach(function(t){t&&r&&r.forEach(function(r){try{setCSSProperty(r.style,t,e.prop[t][0])}catch(e){}})}),t.removed&&t.removed.forEach(function(e){var t=prefixProp(e);t&&r&&r.forEach(function(e){try{e.style.removeProperty?e.style.removeProperty(t):e.style.removeAttribute(t)}catch(e){}})})})}return t}}}function cssobj_plugin_selector_localize(e){var r=(e=e||{}).space="string"!=typeof e.space?"function"==typeof e.random?e.random():random():e.space,t=e.localNames=e.localNames||{},n=function(e){return"!"==e[0]?e.substr(1):e in t?t[e]:e+r},o=function(e){for(var r,t,o=splitSelector(e,"."),a=o[0],i=1,s=o.length;i<s;i++)(r=o[i])?a+="."+((t=r.search(classNameRe))<0?n(r):n(r.substr(0,t))+r.substr(t)):a+=".";return a},a=function(e){return o(e.replace(/\s+\.?/g,".").replace(/^([^:\s.])/i,".$1")).replace(/\./g," ")};return{selector:function(e,n,i){return n.at?e:(i.mapSel||(i.space=r,i.localNames=t,i.mapSel=o,i.mapClass=a),o(e))}}}function cssobj(e,r,t){var n=(r=r||{}).local;return r.local=n?n&&"object"==typeof n?n:{}:{space:""},r.plugins=[].concat(r.plugins||[],cssobj_plugin_selector_localize(r.local),cssobj_plugin_post_cssom(r.cssom)),cssobj$2(r)(e,t)}var random=function(){var e=0;return function(r){return e++,"_"+(r||"")+Math.floor(Math.random()*Math.pow(2,32)).toString(36)+e+"_"}}(),KEY_ID="$id",KEY_ORDER="$order",KEY_TEST="$test",TYPE_GROUP="group",keys=Object.keys,type={}.toString,ARRAY=type.call([]),OBJECT=type.call({}),reGroupRule=/^@(media|document|supports|page|[\w-]*keyframes)/i,reAtRule=/^\s*@/i,addCSSRule=function(e,r,t,n){var o=/@import/i.test(n.selText),a=e.cssRules||e.rules,i=0,s=[];return(n.inline?t.map(function(e){return[n.selText," ",e]}):[[r,"{",t.join(""),"}"]]).forEach(function(t){if(e.cssRules)try{i=o?0:a.length,e.appendRule?e.appendRule(t.join("")):e.insertRule(t.join(""),i),s.push(a[i])}catch(e){}else e.addRule&&[].concat(r).forEach(function(r){try{o?(i=e.addImport(t[2]),s.push(e.imports[i])):/^\s*@/.test(r)||(e.addRule(r,t[2],a.length),s.push(a[a.length-1]))}catch(e){}})}),s},cssPrefixes=["Webkit","Moz","ms","O"],cssPrefixesReg=new RegExp("^(?:"+cssPrefixes.join("|")+")[A-Z]"),emptyStyle=document.createElement("div").style,testProp=function(e){for(var r=e.length;r--;)if(e[r]in emptyStyle)return e[r]},cssProps={float:testProp(["styleFloat","cssFloat","float"])},classNameRe=/[ \~\\@$%^&\*\(\)\+\=,/';\:"?><[\]\\{}|`]/;cssobj.version="1.2.3",module.exports=cssobj;