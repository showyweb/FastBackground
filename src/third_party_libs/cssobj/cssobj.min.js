!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("cssobj",t):e.cssobj=t()}(this,function(){"use strict";function e(e){return!isNaN(parseFloat(e))&&isFinite(e)}function t(e,t){return{}.hasOwnProperty.call(e,t)}function n(e,n){e=e||{};for(var r in n)!t(n,r)||r in e||(e[r]=n[r]);return e}function r(e){return e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})}function o(e){return e.charAt(0).toUpperCase()+e.substr(1)}function a(e,n,r){e[n]=e[n]||{};for(var o=arguments,a=2;a<o.length;a++){r=o[a];for(var i in r)t(r,i)&&(e[n][i]=r[i])}return e[n]}function i(e,t,n,r,o){e[t]=t in e?Array.isArray(e[t])?e[t]:[e[t]]:[],o&&e[t].indexOf(n)>-1||(r?e[t].unshift(n):e[t].push(n))}function u(e,t,n,r,o){for(var a,u,c=e,f=[];c;){if(t(c)){if(r)for(a=0;a<f.length;a++)i(c,r,f[a],!1,!0);f[0]&&o&&(f[0][o]=c),f.unshift(c)}c=c.parent}for(a=0;a<f.length;a++)u=f[a],f[a]=n?u[n]:u;return f}function c(e,t){if(e.indexOf(t)<0)return[e];for(var n,r=0,o=0,a="",i=0,u=[];n=e.charAt(r);r++)a?n==a&&(a=""):(('"'==n||"'"==n)&&(a=n),("("==n||"["==n)&&o++,(")"==n||"]"==n)&&o--,o||n!=t||(u.push(e.substring(i,r)),i=r+1));return u.concat(e.substring(i))}function f(e){return"string"==typeof e&&e||"number"==typeof e&&isFinite(e)}function s(e){return O.call(e)==_||O.call(e)==G}function l(e){return"function"==typeof e}function d(e,n,r,o){if(o&&(n.nodes=[],n.ref={},r&&(n.diff={})),r=r||{},r.obj=e,O.call(e)==G){var u=[];r.at=S.exec(r.key);for(var f=0;f<e.length;f++){var h=r[f],v=d(e[f],n,r[f]||{parent:r,src:e,parentNode:u,index:f});n.diff&&h!=v&&i(n.diff,v?"added":"removed",v||h),u.push(v)}return u}e[k]&&(n.ref[e[k]]=r);var g=r.prevVal=r.lastVal;if(N in e){var y=l(e[N])?e[N](!r.disabled,r,n):e[N];if(!y)return;r.test=y}var x=r.children=r.children||{};r.lastRaw=r.rawVal||{},r.lastVal={},r.rawVal={},r.prop={},r.diff={};var E=0|e[C],R=[],b=function(e,t,r){var o=t in x,u=a(x,t,r);u.selPart=u.selPart||c(t,",");var f=d(e,n,u);f&&(x[t]=f),g&&(o?!f&&i(n.diff,"removed",x[t]):f&&i(n.diff,"added",f)),f||delete r.parent.children[t]};"selText"in r||p(r,n);for(var T in e)if(t(e,T))if(!s(e[T])||O.call(e[T])==G&&!s(e[T][0])){if("@"==T[0]){b([].concat(e[T]).reduce(function(e,t){return e[t]=";",e},{}),T,{parent:r,src:e,key:T,inline:!0});continue}var w=function(t){t!=N&&m(r,e,t,n)};E?R.push([w,T]):w(T)}else b(e[T],T,{parent:r,src:e,key:T});if(g){for(T in x)T in e||(i(n.diff,"removed",x[T]),delete x[T]);var P=function(){var e=V(r.lastVal),t=V(g).filter(function(t){return e.indexOf(t)<0});t.length&&(r.diff.removed=t),V(r.diff).length&&i(n.diff,"changed",r)};E?R.push([P,null]):P()}return E&&i(n,"_order",{order:E,func:R}),n.nodes.push(r),r}function p(e,t){var n=t.config,r=u(e,function(e){return e.key}).pop();if(e.parentRule=u(e.parent,function(e){return e.type==$}).pop()||null,r){var o,a=r.key,i=a.match(F);i?(e.type=$,e.at=i.pop(),o="media"==e.at,o&&(e.selPart=c(a.replace(F,""),",")),e.groupText=o?"@"+e.at+h(u(e,function(e){return e.type==$},"selPart","selChild","selParent"),""," and"):a,e.selText=u(e,function(e){return e.selText&&!e.at},"selText").pop()||""):S.test(a)?(e.type="at",e.selText=a):(e.selText=""+h(u(r,function(e){return e.selPart&&!e.at},"selPart","selChild","selParent"),""," ",!0),n),e.selText=v(n,"selector",e.selText,e,t),e.selText&&(e.selTextPart=c(e.selText,",")),e!==r&&(e.ruleNode=r)}}function m(n,r,o,a,u){var c=n.prevVal,d=n.lastVal,p=e(o)?u:o,h=n.lastRaw[p],g=c&&c[p],y={node:n,result:a};h&&(y.raw=h[0]),![].concat(r[o]).forEach(function(e){y.cooked=g,y.raw=h=l(e)?e(y):e;var r=v(a.config,"value",h,p,n,a,u);if(s(r))for(var o in r)t(r,o)&&m(n,r,o,a,p);else i(n.rawVal,p,h,!0),f(r)&&(i(n.prop,p,r,!0),g=d[p]=r)}),c&&(p in c?c[p]!=d[p]&&i(n.diff,"changed",p):i(n.diff,"added",p))}function h(e,t,n,r){return e.length?e[0].reduce(function(o,a){var i,u=t?t+n:t;return r?(i=c(a,"&"),u=i.length>1?i.join(t):u+a):u+=a,o.concat(h(e.slice(1),u,n,r))},[]):t}function v(e,t){var n=[].slice.call(arguments,2),r=e.plugins;return[].concat(r).reduce(function(e,r){return r[t]?r[t].apply(null,[e].concat(n)):e},n.shift())}function g(e){e._order&&(e._order.sort(function(e,t){return e.order-t.order}).forEach(function(e){e.func.forEach(function(e){e[0](e[1])})}),delete e._order)}function y(e){return e=n(e,{plugins:[],intros:[]}),function(t,n){var r=function(t,n){return arguments.length>1&&(o.state=n||{}),t&&(o.obj=l(t)?t():t),o.root=d(a({},"",o.intro,o.obj),o,o.root,!0),g(o),o=v(e,"post",o),l(e.onUpdate)&&e.onUpdate(o),o},o={intro:{},update:r,config:e};return![].concat(e.intros).forEach(function(e){a(o,"intro",l(e)?e(o):e)}),r(t,n||e.state),o}}function x(e,t,n){var r=e.getElementById(t),o=e.getElementsByTagName("head")[0];if(r){if(n.append)return r;r.parentNode&&r.parentNode.removeChild(r)}if(r=e.createElement("style"),o.appendChild(r),r.setAttribute("id",t),n.attrs)for(var a in n.attrs)r.setAttribute(a,n.attrs[a]);return r}function E(e){var t=e.prop;return Object.keys(t).map(function(n){if("$"==n[0])return"";for(var r,o="",a=t[n].length;a--;)r=t[n][a],o+=e.inline?n:b(n,!0)+":"+r+";";return o})}function R(e){if(!(e in z||"-"==e[0]))for(var t,n=o(e),r=M.length;r--;)if(t=M[r]+n,t in z)return t}function b(e,t){if("$"==e[0])return"";var n=I[e]||(I[e]=R(e)||e);return t?r(U.test(n)?o(n):"float"==e&&e||n):n}function T(e,t,n){var r,o=/^(.*)!(important)\s*$/i.exec(n),a=b(t),i=b(t,!0);o?(r=o[1],o=o[2],e.setProperty?e.setProperty(i,r,o):(e[i.toUpperCase()]=n,e.cssText=e.cssText)):e[a]=n}function w(e){function t(e){var t=h.indexOf(e);t>-1&&(e.mediaEnabled=!1,g(e),h.splice(t,1)),[e.omGroup].concat(e.omRule).forEach(p)}e=e||{},e.vendors&&(M=e.vendors);var n=e.id||"cssobj"+A(),r=e.frame,o=r?r.contentDocument||r.contentWindow.document:document,a=x(o,n,e),i=a.sheet||a.styleSheet,u=/page/i,c=function(e){return e?u.test(e.at)||e.parentRule&&u.test(e.parentRule.at):!1},f=function(e){var t="omGroup"in e?e:e.parentRule;return t&&t.omGroup||i},s=function(e){return!e.parentRule||null!==e.parentRule.omGroup},l=function(e,t,n){return e.deleteRule?e.deleteRule(t.keyText||n):e.removeRule(n)},d=function(e){for(var t=e.cssRules||e.rules,n=t.length;n--;)l(e,t[n],n)},p=function(e){if(e){var t=e.parentRule||i,n=t.cssRules||t.rules,r=function(n,r){return n===e?(l(t,e,r),!0):void 0};[].some.call(n,r)}},m=function(e,t,n){if(n){var r=f(e),o=e.parentRule;if(s(e))return e.omRule=L(r,t,n,e);if(o){if(o.mediaEnabled)return[].concat(e.omRule).forEach(p),e.omRule=L(r,t,n,e);e.omRule&&(e.omRule.forEach(p),delete e.omRule)}}},h=[],v=function(){h.forEach(function(e){e.mediaEnabled=e.mediaTest(o),g(e)})};window.attachEvent?window.attachEvent("onresize",v):window.addEventListener&&window.addEventListener("resize",v,!0);var g=function(t,n){if(t){if(t.constructor===Array)return t.map(function(e){g(e,n)});if((!t.key||"$"!=t.key[0])&&t.prop){if("media"==t.at&&t.selParent&&t.selParent.postArr)return t.selParent.postArr.push(t);t.postArr=[];var r=t.children,a="group"==t.type;if(c(t)&&(n=n||[]),a&&!c(t)){var u=t.obj.$groupTest,f="media"==t.at&&e.media;if(u||f){t.omGroup=null;var l=u||f&&function(){var n=e.media;return n?t.selPart.some(function(e){return new RegExp(n,"i").test(e.trim())}):!0}||function(){return!0};try{var d=l(o);t.mediaTest=l,t.mediaEnabled=d,h.push(t)}catch(p){}}else[""].concat(M).some(function(e){return t.omGroup=L(i,"@"+(e?"-"+e.toLowerCase()+"-":e)+t.groupText.slice(1),[],t).pop()||null})}var v=t.selTextPart,y=E(t);y.join("")&&(c(t)||m(t,v,y),n&&n.push(v?v+" {"+y.join("")+"}":y));for(var x in r)""===x?t.postArr.push(r[x]):g(r[x],n);a&&c(t)&&s(t)&&(m(t,t.groupText,n),n=null);var R=t.postArr;delete t.postArr,R.map(function(e){g(e,n)})}}},y=e.media;return{post:function(n){var r=y!=e.media;if(y=e.media,v(),n.cssdom=a,!n.diff||r)r&&(h=[],d(i)),g(n.root);else{var o=n.diff;o.added&&o.added.forEach(function(e){g(e)}),o.removed&&o.removed.forEach(function(e){e.selChild&&e.selChild.forEach(t),t(e)}),o.changed&&o.changed.forEach(function(e){var t=e.omRule,n=e.diff;t||(t=m(e,e.selTextPart,E(e))),[].concat(n.added,n.changed).forEach(function(n){n&&t&&t.forEach(function(t){try{T(t.style,n,e.prop[n][0])}catch(r){}})}),n.removed&&n.removed.forEach(function(e){var n=b(e);n&&t&&t.forEach(function(e){try{e.style.removeProperty?e.style.removeProperty(n):e.style.removeAttribute(n)}catch(t){}})})})}return n}}}function P(e){e=e||{};var t=e.space="string"!=typeof e.space?"function"==typeof e.random?e.random():A():e.space,n=e.localNames=e.localNames||{},r=function(e){return"!"==e[0]?e.substr(1):e in n?n[e]:e+t},o=function(e){for(var t,n,o=c(e,"."),a=o[0],i=1,u=o.length;u>i;i++)t=o[i],t?(n=t.search(W),a+="."+(0>n?r(t):r(t.substr(0,n))+t.substr(n))):a+=".";return a},a=function(e){return o(e.replace(/\s+\.?/g,".").replace(/^([^:\s.])/i,".$1")).replace(/\./g," ")};return{selector:function(e,r,i){return r.at?e:(i.mapSel||(i.space=t,i.localNames=n,i.mapSel=o,i.mapClass=a),o(e))}}}function j(e,t,n){t=t||{};var r=t.local;return t.local=r?r&&"object"==typeof r?r:{}:{space:""},t.plugins=[].concat(t.plugins||[],P(t.local),w(t.cssom)),y(t)(e,n)}var A=function(){var e=0;return function(t){return e++,"_"+(t||"")+Math.floor(Math.random()*Math.pow(2,32)).toString(36)+e+"_"}}(),k="$id",C="$order",N="$test",$="group",V=Object.keys,O={}.toString,G=O.call([]),_=O.call({}),F=/^@(media|document|supports|page|[\w-]*keyframes)/i,S=/^\s*@/i,L=function(e,t,n,r){var o=/@import/i.test(r.selText),a=e.cssRules||e.rules,i=0,u=[],c=r.inline?n.map(function(e){return[r.selText," ",e]}):[[t,"{",n.join(""),"}"]];return c.forEach(function(n){if(e.cssRules)try{i=o?0:a.length,e.appendRule?e.appendRule(n.join("")):e.insertRule(n.join(""),i),u.push(a[i])}catch(r){}else e.addRule&&[].concat(t).forEach(function(t){try{o?(i=e.addImport(n[2]),u.push(e.imports[i])):/^\s*@/.test(t)||(e.addRule(t,n[2],a.length),u.push(a[a.length-1]))}catch(r){}})}),u},M=["Webkit","Moz","ms","O"],U=new RegExp("^(?:"+M.join("|")+")[A-Z]"),z=document.createElement("div").style,B=function(e){for(var t=e.length;t--;)if(e[t]in z)return e[t]},I={"float":B(["styleFloat","cssFloat","float"])},W=/[ \~\\@$%^&\*\(\)\+\=,\/';\:"?><[\]\\{}|`]/;return j.version="1.2.3",j});